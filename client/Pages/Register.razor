@page "/register"
@inject AuthService Auth
@inject NavigationManager Nav

<h3>Register</h3>

<div>
    <label>Email: <input @bind="email" /></label><br />
    <label>Password: <input type="password" @bind="password" /></label><br />
    <button @onclick="Submit">Register</button>
</div>

<p>@message</p>

@code {
    private string email = string.Empty;
    private string password = string.Empty;
    private string message = string.Empty;

    private async Task Submit()
    {
        var ok = await Auth.Register(email, password);
        message = ok ? "Registered!" : "Failed to register";
        if (ok) Nav.NavigateTo("/login");
    }
}
